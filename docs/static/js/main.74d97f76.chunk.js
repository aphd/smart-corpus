(this["webpackJsonpsmac-corpus"]=this["webpackJsonpsmac-corpus"]||[]).push([[0],{40:function(e,t,n){e.exports=n(61)},45:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),o=n.n(c),i=(n(44),n(15)),l=n(9),s=n(28),u=n(20),m=n(36),d=(n(45),n(21)),f=n(10),h=n(86),p=n(8),b={pragma_versions:["Any","0.4.*","0.5.*","0.6.*"],greater_than:{Any:0,"Greater than 1":1,"Greater than 10":10,"Greater than 100":100}},g=function(e,t){var n=!e.target.checked,a=this.state.cart;this.setState({cart:n?a.filter((function(e){return e!==t})):[].concat(Object(p.a)(a),[t])})},E=function(e){return this.setState({loading:!0}),fetch("https://raw.githubusercontent.com/aphd/smac-corpus-api/master/data/metrics.json").then((function(e){return e.json()})).then((function(t){return v(t,e)})).then(k.bind(this)).catch((function(e){return console.log("catch:\n",e)}))},v=function(e,t){var n=y(t);return e.filter((function(e){return e.total_lines>=n.total_lines&&e.functions>=n.functions&&e.modifiers>=n.modifiers&&e.payable>=n.payable&&e.vrsion.match(n.version)}))},y=function(e){return{total_lines:b.greater_than[e.total_lines]||0,functions:b.greater_than[e.functions]||0,modifiers:b.greater_than[e.modifiers]||0,payable:b.greater_than[e.payable]||0,version:"Any"===e.vrsion?".":e.vrsion||"."}},k=function(e){this.setState({data:e,loading:!1,nFound:e.length,cart:[]})},j=function(e){return r.a.createElement(f.c,{initialValues:{Type:"Any",CV:"Any"},onSubmit:function(t){return e.onSubmit(t)}},(function(t){t.values,t.errors,t.isSubmitting;return r.a.createElement(f.b,null,r.a.createElement(f.a,{name:"vrsion",as:h.a,select:!0,label:"pragma version",SelectProps:{native:!0}},Object.entries(b.pragma_versions).map((function(e){return r.a.createElement("option",{key:e[1]},e[1])}))),r.a.createElement(f.a,{name:"total_lines",as:h.a,select:!0,label:"Source lines of code",SelectProps:{native:!0}},Object.entries(b.greater_than).map((function(e,t){return r.a.createElement("option",{key:t},e[0])}))),r.a.createElement(f.a,{name:"functions",as:h.a,select:!0,label:"Number of functions",SelectProps:{native:!0}},Object.entries(b.greater_than).map((function(e,t){return r.a.createElement("option",{key:t},e[0])}))),r.a.createElement(f.a,{name:"modifiers",as:h.a,select:!0,label:"Number of modifiers",SelectProps:{native:!0}},Object.entries(b.greater_than).map((function(e,t){return r.a.createElement("option",{key:t},e[0])}))),r.a.createElement(f.a,{name:"payable",as:h.a,select:!0,label:"Number of payable",SelectProps:{native:!0}},Object.entries(b.greater_than).map((function(e,t){return r.a.createElement("option",{key:t},e[0])}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:e.loading},r.a.createElement("span",{className:"spinner-border spinner-border-sm ".concat(e.loading?"mr-2":"d-none")}),"Submit"))}))},S=n(35),_=n.n(S),O={contractAddress:"Address",vrsion:"Version",total_lines:"Total lines",comments:"Comments",mapping:"Mapping",functions:"Functions",payable:"Payable",events:"Events",modifiers:"Modifiers",addresses:"Addresses"},C=function(e){var t=function(t,n){var a,c=e.data[t];if(c.length>15){var o="".concat(c.slice(0,15),"...");c=_()('<a href="'.concat((a=c,"https://etherscan.io/address/".concat(a,"#code")),'" target="_">').concat(o,"</a>"))}return r.a.createElement("td",{key:n},c)};return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"text-right"},r.a.createElement("input",{checked:e.cart.indexOf(e.id)>-1,type:"checkbox",onClick:function(t){return e.onClick(t,e.id)}})),Object.keys(O).map(t))},w=function(){var e=function(e,t){return r.a.createElement("th",{key:t},e)};return r.a.createElement("tr",null,r.a.createElement("td",null),Object.values(O).map(e))},N=function(e){var t=function(t,n){return r.a.createElement(C,{id:t.contractAddress,key:n,data:t,onClick:e.onClick,cart:e.cart})};return e.data.length>0&&r.a.createElement("table",{className:"table table-hover table-sm table-bordered"},r.a.createElement("thead",null,r.a.createElement(w,null)),r.a.createElement("tbody",null,e.data.map(t)))},A=function(e){return fetch(P(e)).then((function(e){return e.json()})).then(R.bind({address:e}))},P=function(e){return"https://api.etherscan.io/api?module=contract&action=getsourcecode&address=".concat(e,"&apikey=E5KM3HIGE2PV4RR763IQSXGZIV6UV638P2")},R=function(e){var t=e.result[0].SourceCode,n=new Blob([t],{type:"application/json"}),a=document.createElement("a");a.href=window.URL.createObjectURL(n),a.download="".concat(this.address,".sol"),document.body.appendChild(a),a.click(),a.remove()},F=function(e){var t=e.cart,n=t.length?"":"d-none",a=t.length?"d-none":"";return e.nFound>0&&r.a.createElement("div",{className:"mt-3 mb-1"},r.a.createElement("div",{className:"alert alert-primary ".concat(a),role:"alert"},"Select the checkboxes to download the smart contracts - Smart contracts found:"," ",r.a.createElement("span",{className:"badge badge-light"},e.nFound," / 11251")),r.a.createElement("button",{onClick:function(){return t.forEach(A)},type:"button",className:"btn btn-danger ".concat(n)},"Download"," ",r.a.createElement("span",{className:"badge badge-light"},t.length)," ","smart contracts"))};var x=function(e){Object(m.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(u.a)(e);if(t()){var r=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,null,r.a.createElement(d.a,null,r.a.createElement("title",null,"Smac-Corpus"))),r.a.createElement(j,{onSubmit:a.handleContract,loading:a.state.loading}),r.a.createElement(F,{nFound:a.state.nFound,cart:a.state.cart}),r.a.createElement(N,{data:a.state.data,onClick:a.handleCart,cart:a.state.cart}))},a.handleContract=E.bind(Object(l.a)(a)),a.handleCart=g.bind(Object(l.a)(a)),a.state={loading:!1,data:[],nFound:0,cart:[]},a}return n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.74d97f76.chunk.js.map